<%- include('partials/header') %>


<header class="header">
    <a href="" class="logo"><i class="fa-solid fa-basket-shopping" style="color: #247e00;"></i>Ezon</i></a>
<nav class="navbar">
    <a href="#home">Home</a>
    <a href="#features">Features</a>
    <a href="#products">Products</a>
    <a href="#professionals">Services</a>
    <a href="#review">Review</a>

</nav>
<div class="icons">
    <div class="fa fa-bars" id="menu-btn"></div>
    <div class="fa fa-search" id="search-btn"></div>
    <div class="fa fa-shopping-cart" id="cart-btn"></div>
    <a class="fa fa-user" href="/login" role="button"></a>
</div>

<form action="/" class="search-form" method="post">
<input type="search" name="search1" id="search-box" placeholder="Search Here
... . .">
<button type="submit" for="search-box" class="fa fa-search"></button>

</form>

<div class="shopping-cart">
    <div class="cart-items"></div>
    <div class="total">Total: ₹0.00</div>
    <a href="/payment" class="btn" onclick="passvalues()">Checkout</a>
</div>


</header>

<section class="home" id="home">
    <div class="content">
        <h1>SportZone</h1>
        <h3>Your Ultimate Destination for <span>High-Quality Sports</span> Gear and Equipment</h3>
        <button><a class="btn" href="/register">Become Our Seller</a></button>
        <button><a class="btn" href="/skill">Join Our Platform for Jobs and Customers</a></button>
    </div>
</section>


<section class="features" id="features">
    <h1 class="heading">Our <span>Features</span></h1>
    <div class="box-container">
        <div class="box">
            <img src="../photo/new-arrival-background-modern-style_23-2147895631.avif" alt="bat">
            <h3>Fresh Arrivals</h3>
            <p>The guide on Arrival helps us serve you better and make sure every single passenger at the Delhi Airport has a smooth and convenient experience.</p>
            <button class="btn">Read More</button>
        </div>
    <!-- </div> -->
    <!-- <div class="box-container"> -->
        <div class="box">
            <img src="../photo/download.png" alt="bat">
            <h3>Fast Delivery</h3>
            <p>A Document Delivery Form useful for requesting documents to be easily delivered to a provided address through collecting receiver group details</p>
            <button class="btn">Read More</button>
        </div>
    <!-- </div> -->
    <!-- <div class="box-container"> -->
        <div class="box">
            <img src="../photo/1673263767450.jpeg" alt="bat">
            <h3>Easy Payments</h3>
            <p>EasyPay allows you to query payment meta-data, receive payment notifications and generate payment references.</p>
            <button class="btn">Read More</button>
        </div>
    </div>

</section>




<section class="products" id="products">
    <h1 class="heading">Our <span>Products</span></h1>
    <div class="swiper product-slider">
        <div class="swiper-wrapper">
            <div class="swiper-slide box">
                <img src="../photo/download.jpeg" alt="">
                <h1>Cricket Bat</h1>
                <div class="price">₹4,999/-</div>
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half"></i>
                </div>
                <button class="btn">Add To Cart</button>
            </div>
            
            <% if (recordss && recordss.length > 0) { %>
                <% recordss.forEach(function(file) { %>
                    <div class="swiper-slide box">
                        <img src="./photo/<%= file.image %>" alt="prof img">
                        <h1><%= file.productName %></h1>
                        <div class="price">₹<%= file.productPrice %>/-</div>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half"></i>
                        </div>
                        <button class="btn">Add To Cart</button>
                    </div>
                <% }) %>
            <% } %>
        </div>
        <div class="swiper-button-next"></div>
<div class="swiper-button-prev"></div>
    </div>
</section>
<section class="products" id="professionals">
    <h1 class="heading"><span>Services</span></h1>
    <div class="swiper product-slider">
        
        <div class="swiper-wrapper">
            <% if (skillName && skillName.length > 0) { %>
                <% skillName.forEach(function(skill) { %>
                    <div class="swiper-slide box">
                        <h1 style="color: red;">Profession: <%= skill.profession %></h1>
                        <h1>Name: <%= skill.name %></h1>
                        <h3>Experience: <%= skill.experience %> Years</h1>
                        <div class="price">₹<%= skill.price %>/-</div>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half"></i>
                        </div>
                        <button onclick="hireProfessional('<%= skill.profession %>', '<%= skill.name %>', '<%= skill.experience %>', '<%= skill.price %>');" type="button" class="btn">Hire Me</button>
                    </div>
                <% }) %>
            <% } %>
        </div>
        <div class="swiper-button-next"></div>
<div class="swiper-button-prev"></div>
    </div>
</section>

<section class="review" id="review">
    <h1 class="heading">Customer's <span>Review</span></h1>
    <div class="swiper review-slider">
        <div class="swiper-wrapper">
            <div class="swiper-slide box">
                <img src="../photo/amaan.jpeg" alt="amaan">
                <p>It is an Customer friendly website easy to use</p>
                <h3>Syed Amaan</h3>
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
            </div>

            <div class="swiper-slide box">
                <img src="../photo/photo-1573496359142-b8d87734a5a2.jpeg" alt="amaan">
                <p>they tell you aboyt your products or services</p>
                <h3>Dr Rose</h3>
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
            </div>

            <div class="swiper-slide box">
                <img src="../photo/1612001761516.jpeg" alt="amaan">
                <p>It is an Customer friendly website easy to use</p>
                <h3>Prakash Gupta</h3>
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
            </div>

            <div class="swiper-slide box">
                <img src="../photo/photo-1519085360753-af0119f7cbe7.jpeg" alt="amaan">
                <p>It is an Customer friendly website easy to use</p>
                <h3>James Tom</h3>
                <div class="stars">
                    <i class="fas fa-star"></i>
                </div>
            </div>
        </div>
    </div>
</section>


<footer class="footer">
    <div class="container">
     <div class="row">
       <div class="footer-col">
         <h4>Ezon  <span class="fa-solid fa-basket-shopping" style="color: #00752d;"></span></h4>
         <ul>
           <li><a href="#">about us</a></li>
           <li><a href="#">our services</a></li>
           <li><a href="#">privacy policy</a></li>
           <li><a href="#">affiliate program</a></li>
         </ul>
       </div>
       <div class="footer-col">
         <h4>get help</h4>
         <ul>
           <li><a href="#">FAQ</a></li>
           <li><a href="#">shipping</a></li>
           <li><a href="#">returns</a></li>
           <li><a href="#">order status</a></li>
           <li><a href="#">payment options</a></li>
         </ul>
       </div>
       <div class="footer-col">
         <h4>online shop</h4>
         <ul>
           <li><a href="#">watch</a></li>
           <li><a href="#">bag</a></li>
           <li><a href="#">shoes</a></li>
           <li><a href="#">dress</a></li>
         </ul>
       </div>
       <div class="footer-col">
         <h4>follow us</h4>
         <div class="social-links">
           <a href="#"><i class="fab fa-facebook-f"></i></a>
           <a href="#"><i class="fab fa-twitter"></i></a>
           <a href="#"><i class="fab fa-instagram"></i></a>
           <a href="#"><i class="fab fa-linkedin-in"></i></a>
         </div>
       </div>
     </div>
    </div>
 </footer>

<script>
    var globalTotal = 0;

    
document.addEventListener('DOMContentLoaded', function () {
var cartItemsContainer = document.querySelector('.cart-items');
var totalElement = document.querySelector('.total');
var cartItems = [];

function addToCart(itemName, itemPrice, imageSrc) {
    var existingCartItem = cartItems.find(item => item.name === itemName);

    if (existingCartItem) {
        existingCartItem.quantity++;
    } else {
        cartItems.push({
            name: itemName,
            price: itemPrice,
            quantity: 1,
            image: imageSrc
        });
    }

    updateCartTotal();
    displayCartItems(); // Call the function to display cart items
}

function removeFromCart(event) {
    if (event.target.classList.contains('fa-trash')) {
        var trashIcon = event.target;
        var cartItem = trashIcon.closest('.box');
        var itemNameElement = cartItem.querySelector('.content h3'); // Use more specific selector

        if (itemNameElement) {
            var itemName = itemNameElement.innerText;
            console.log('Item to be removed:', itemName); // Debug statement
            cartItems = cartItems.filter(item => item.name !== itemName);
            console.log('Updated cartItems:', cartItems); // Debug statement
            cartItem.remove();
            updateCartTotal();
        }
    }
}

function displayCartItems() {
    cartItemsContainer.innerHTML = ''; // Clear the existing cart items

    cartItems.forEach(item => {
        var cartItem = document.createElement('div');
        cartItem.classList.add('box');
        var cartItemContent = `
          <i class="fa fa-trash"></i>
          <img src="${item.image}">
          <div class="content">
            <h3>${item.name}</h3>
            <span class="price">₹${item.price}/-</span>
            <span class="quantity">${item.quantity}</span>
          </div>
        `;
        cartItem.innerHTML = cartItemContent;
        cartItemsContainer.appendChild(cartItem);
    });
}
function updateCartTotal() {
    var total = 0;

    cartItems.forEach(item => {
        total += item.price * item.quantity;
    });

    // Update the format here
    totalElement.textContent = 'Total: ₹' + total.toFixed(2);
    console.log('Total value:', total); // Debug statement
    globalTotal=total;
    return total;
}

var productsContainer = document.querySelector('.products');
productsContainer.addEventListener('click', handleAddToCart);
cartItemsContainer.addEventListener('click', removeFromCart);

function handleAddToCart(event) {
    if (event.target.classList.contains('btn')) {
        var button = event.target;
        var productBox = button.closest('.box');
        var productName = productBox.querySelector('h1').innerText;
        var productPrice = parseFloat(productBox.querySelector('.price').innerText.replace('₹', '').replace('/-', ''));
        var imageSrc = productBox.querySelector('img').src;
        addToCart(productName, productPrice, imageSrc); // Pass all three parameters
    }
}
});

function passvalues(){
localStorage.setItem("textvalues",globalTotal);
}
function hireProfessional(profession, name, experience, price) {
        // Create a formatted message
        var message = "Hi, I'm interested in hiring you for the following skill:\n\n";
        message += "Profession: " + profession + "\n";
        message += "Name: " + name + "\n";
        message += "Experience: " + experience + " Years\n";
        message += "Price: ₹" + price + "/-\n\n";
        message += "Could you please provide more information?";

        // Encode the message for the URL
        var encodedMessage = encodeURIComponent(message);

        // Open WhatsApp chat with the pre-filled message
        window.open("https://wa.me/+916006466047?text=" + encodedMessage, "_blank");
    }
</script>

</script>


<%- include('partials/footer') %>
